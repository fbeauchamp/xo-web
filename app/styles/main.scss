//////////////////////////////////////////////////////////////////////
// Bootstrap
//////////////////////////////////////////////////////////////////////

@import "../../node_modules/bootstrap-sass/assets/stylesheets/bootstrap";

//////////////////////////////////////////////////////////////////////
// Font-Awesome 4.
//////////////////////////////////////////////////////////////////////

$fa-font-path: "";

@import "../../node_modules/font-awesome/scss/font-awesome";

// Replace Bootstrap's glyphicons by Font Awesome.
.glyphicon {
  @extend .fa;
}

//////////////////////////////////////////////////////////////////////
// Angular xEditable.
//////////////////////////////////////////////////////////////////////

// TODO: do not use CSS import but includes
//
// This syntax is not yet supported for .css files.
//
// See https://github.com/sass/node-sass/issues/618
//@import "../../dist/bower_components/angular-xeditable/dist/css/xeditable";

@import "/bower_components/angular-xeditable/dist/css/xeditable.css";

//////////////////////////////////////////////////////////////////////
// Angular Notify Toaster.
//////////////////////////////////////////////////////////////////////

// TODO: do not use CSS import but includes
//
// This syntax is not yet supported for .css files.
//
// See https://github.com/sass/node-sass/issues/618
//@import "../../dist/bower_components/angular-notify-toaster/toaster";

@import "/bower_components/angular-notify-toaster/toaster.css";

//////////////////////////////////////////////////////////////////////
// UI Select.
//////////////////////////////////////////////////////////////////////

@import "/bower_components/angular-ui-select/dist/select.css";

//////////////////////////////////////////////////////////////////////

// Style applied to a message for outdated browsers (IE <= 7).
.browsehappy {
  margin: 0.2em 0;
  background: #cccccc;
  color: black;
  padding: 0.2em 0;
}

// Some links are used throught JavaScript and therefore does not have
// a `href` attribute, they should nevertheless have a *pointer*
// cursor.
// Same for all elements with the "ng-click" attribute.
a, [ng-click], [xo-click], [xo-sref] {
  cursor: pointer;
}

// TODO: We want all our form inputs to be styled by Bootstrap.
//input, textarea, select
//  @extend .form-control

// Click-through notifications.
#toast-container {
  pointer-events: none;
}

html, body, .view-main {
  height: 100%
}

// Force our content to be under the fixed navbar.
.view-main {
  padding-top: 50px;
}

//////////////////////////////////////////////////////////////////////

// TODO: The styles in this file should be
// - commented;
// - converted to SASS;
// - move into this file.
@import "to-clean";

//////////////////////////////////////////////////////////////////////
// Colors
//////////////////////////////////////////////////////////////////////

////
// Power states
////

.xo-color-running {
  @extend .text-success;
}

.xo-color-halted {
  @extend .text-danger;
}

.xo-color-paused, .xo-color-suspended {
  @extend .text-info;
}

.xo-color-unknown {
  @extend .text-muted;
}

.xo-color-pending {
  @extend .text-warning;
}

//////////////////////////////////////////////////////////////////////
// XO icons
//////////////////////////////////////////////////////////////////////

////
// Alerts
////

.xo-icon-info {
  @extend .fa;
  @extend .fa-exclamation-circle;
  @extend .text-muted;
}

.xo-icon-docker {
  @extend .fa;
  @extend .fa-ship;
  @extend .text-info;
}

.xo-icon-warning {
  @extend .fa;
  @extend .fa-exclamation-circle;
  @extend .text-warning;
}

.xo-icon-error {
  @extend .fa;
  @extend .fa-exclamation-circle;
  @extend .text-danger;
}

.xo-icon-success {
  @extend .fa;
  @extend .fa-check-circle;
  @extend .text-success;
}

////
// Objects
////

.xo-icon-console {
  @extend .fa;
  @extend .fa-terminal;
}

.xo-icon-pool {
  @extend .fa;
  @extend .fa-cloud;
}

.xo-icon-host {
  @extend .fa;
  @extend .fa-server;
}

.xo-icon-vm {
  @extend .fa;
  @extend .fa-desktop;
}

.xo-icon-memory {
  @extend .fa;
  @extend .fa-sliders;
}

.xo-icon-cpu {
  @extend .fa;
  @extend .fa-dashboard;
}

.xo-icon-network {
  @extend .fa;
  @extend .fa-sitemap;
}

.xo-icon-sr {
  @extend .fa;
  @extend .fa-hdd-o;
}

.xo-icon-snapshot {
  @extend .fa;
  @extend .fa-camera;
}

.xo-icon-task {
  @extend .fa;
  @extend .fa-tasks;
}

.xo-icon-stats {
  @extend .fa;
  @extend .fa-line-chart;
}

.xo-icon-user {
  @extend .fa;
  @extend .fa-user;
}

.xo-icon-group {
  @extend .fa-users;
}

////
// Power states
////

.xo-icon-running {
  @extend .fa;
  @extend .fa-circle;
  @extend .xo-color-running;
}

.xo-icon-halted {
  @extend .fa;
  @extend .fa-circle;
  @extend .xo-color-halted;
}

.xo-icon-suspended {
  @extend .fa;
  @extend .fa-circle;
  @extend .xo-color-paused;
}

.xo-icon-paused {
  @extend .fa;
  @extend .fa-circle;
  @extend .xo-color-paused;
}

.xo-icon-unknown {
  @extend .fa;
  @extend .fa-circle;
  @extend .xo-color-unknown;
}

// if current operation
.xo-icon-working {
  @extend .fa;
  @extend .fa-circle;
  @extend .text-warning;
}

////
// Others.
////

.xo-icon-cpu-low {
  @extend .xo-icon-cpu;
  @extend .text-success;
}

.xo-icon-cpu-medium {
  @extend .xo-icon-cpu;
  @extend .text-warning;
}

.xo-icon-cpu-high {
  @extend .xo-icon-cpu;
  @extend .text-danger;
}

////
// Guest OS
////

.xo-icon-linux {
  @extend .fa;
  @extend .fa-linux;
  color: #666666;
}

.xo-icon-windows {
  @extend .fa;
  @extend .fa-windows;
  color: #666666;
}

.xo-icon-other {
  @extend .fa;
  @extend .fa-question-circle;
  color: #666666;
}

//////////////////////////////////////////////////////////////////////
// Navbar
//////////////////////////////////////////////////////////////////////

// The login form
.login-form {
  padding: 1em;
  width: 20em;
  // small space between fields
  .input-group {
    margin: 0.2em;
  }
  // adapt button for the global theme (dark/blue/grey)
  .input-group-addon {
    background-color: #3a87ad;
    color: #f8f8f8;
    border: 0;
  }
  button {
    margin-top: 1em;
  }
  // adapt form for the global theme
  .form-control {
    background-color: #666666;
    color: #f8f8f8;
    border: 0;
  }
}

// background dark for the whole form
.login-form-dark {
  @extend .login-form;
  background-color: #2e3133;
}

//////////////////////////////////////////////////////////////////////
// Main view
//////////////////////////////////////////////////////////////////////

// FIXME: Class names are too generic and styles might be applied to
// other views as well, all styles should be namespaced (e.g.
// `.view-main`).

// Notice messages in place of the VMs list in the main page.
.vms-notice {
  @extend .text-center;
  @extend .text-muted;
  font-size: 1.5em;
  flex: 1;
  align-self: center;
  justify-content: center;
}

.quick-buttons {
  display: inline;
  float: right;
  opacity: 0;
  a {
    color: #666666;
    margin: 0 0.3em;
    text-decoration: none;
    &:hover {
      color: black;
    }
  }
}

// Quick actions buttons are only visible when over their row.
tr:hover .quick-buttons {
  opacity: 1;
}

// remove icon/button in last row on a table
.quick-remove {
  display: inline;
  float: right;
  opacity: 0;
  a {
    color: #666666;
    text-decoration: none;
    &:hover {
      color: black;
    }
  }
}

// remove only visible when over its row
tr:hover .quick-remove {
  opacity: 1;
}

// edit icon/button in a panel title
.quick-edit {
  display: inline;
  float: right;
  opacity: 1;
  color: #666666;
  &:hover {
    color: black;
  }
}

// Substats (less important host stats)
.substats {
  opacity: 0;
}

// Substat displayed on hover
div.host-cell:hover .substats {
  opacity: 1;
}

// Default SRs (where a new VM will be created).
.default-sr {
  @extend .text-primary;
  font-weight: bold;
}

// Prevents a host name from overflowing outside its box.
.host-cell, .pool-cell, .vm-cell {
  @extend .panel;
  & div {
    position: relative;
  }
}

.host-name, .pool-name, .sr-name {
  display: inline-block;
  white-space: nowrap;
  text-overflow: ellipsis;
  max-width: 80%;
  overflow: hidden;
}

// Pool block
// A block display a whole pool
.pool-block {
  margin-right: 0.8em;
  margin-bottom: 0;
}

.pool-cell {
  // margin-bottom: 0.5em;
  // margin-left: 2em;
  // margin-right: 1em;
  min-height: 6em;
  max-width: 190px;
  background-color: white;
}

/* row for all hosts/vms in a pool */
.hosts-vms-cells {
  min-height: 6em;
  margin-right: -0.8em;
}

/* individual host element */
.host-cell {
  max-width: 156px;
  background-color: white;
  margin-bottom: 0.5em;
}

/* With gutters */
.grid--gutters {
  // margin-left: -0.5em;
}
.grid--gutters > .grid-cell {
  padding-left: 0.1em;
}

/* vm name in table */
.vm {
  display: inline;
  font-size: 10pt;
   margin: 0;
 }
.no-vm {
  font-size: 1.5em;
  margin-top: 1.8em;
  color: #999;
}
.vm-cell table {
  margin: 0;
}
.vm-cell td {
  border-bottom: 1px solid #edece4 !important;
  border-top: 0px !important;
  text-overflow: ellipsis;
  white-space: nowrap;
}


//////////////////////////////////////////////////////////////////////
// Pool view
//////////////////////////////////////////////////////////////////////

// Allow progress bar in small spaces, like tables
.progress-condensed {
  @extend .progress;
  margin-bottom: 0;
}

//////////////////////////////////////////////////////////////////////
// Host view
//////////////////////////////////////////////////////////////////////

// Memory progress bar stacked for host
.progress-bar-host {
  @extend .progress-bar;
  border-right: 1px solid white;
}

// Memory progress bar stacked for VM
.progress-bar-vm {
  @extend .progress-bar-success;
  border-right: 1px solid white;
}

// Hover color for progress bar
.progress-bar:hover {
  background-color: #e25440;
}


.grid {
  display: flex;
}

.stat-simple {
  margin-top: 1em;
}

//////////////////////////////////////////////////////////////////////
// General object view
//////////////////////////////////////////////////////////////////////

.panel {
  flex: 1;
  margin: 0.4em;
}

.panel-heading {
  text-align: center;
  font-variant: small-caps;
  font-size: 1.3em;
  font-weight: bold;
}

.panel-body-stats {
  @extend .panel-body;
  padding: 5px;
}

.chart-stat-preview {
  max-height: 8em;
  text-align: center;
  border-left: 1px solid #ddd;
  border-right: 1px solid #ddd;
  border-bottom: 1px solid #ddd;
}

.chart-stat-full {
  max-height: 16em;
  text-align: center;
}

.page-title {
  text-align: center;
  font-size: 2em;
  margin: 0;
}

// display a big number for panel stats
.big-stat {
  font-size: 5em;
  color: #666;
}


//////////////////////////////////////////////////////////////////////
// Flat view
//////////////////////////////////////////////////////////////////////

.flat-object { @extend .panel; margin: 0.5em;}
.flat-object:hover {background-color: #f8f8f8;}
.flat-cell {border-radius: 0px; margin-left: 1em; margin-right: 1em; margin-top: 0.5em; margin-bottom: 0.5em;}
.flat-cell-name {max-width: 150px; min-width: 150px; font-weight: bold;}
.flat-cell-description {max-width: 250px; min-width: 250px;}
.flat-cell-type {max-width: 40px; font-size: 2em; text-align: center; margin: auto; margin-left: 0.5em;}
.flat-cell-tag {font-size: 11pt; margin: auto; min-height: 2.5em; padding-top: 0.4em; padding-left: 1em; opacity: 0.8;}

//////////////////////////////////////////////////////////////////////
// Login view
//////////////////////////////////////////////////////////////////////

.row-login {
  @extend .panel;
  background: #fff;
  //padding: 20px 50px 20px 50px;
  padding: 1em 5em 1em 5em;
  max-width: 35em;
  margin-left: auto;
  margin-right: auto;
}

img.navbar-logo {
  margin-top: -0.2em;
  display: inline;
  margin-right: 0.5em;
}

.navbar-brand {
  font-variant: small-caps;
  padding-top: 0.8em;
}

//////////////////////////////////////////////////////////////////////
// Settings
//////////////////////////////////////////////////////////////////////

.settings-menu {
  background-color: #242628;
  border-right: 1px solid #eee;
  width: 212px;
}

.settings-menu li a {
  font-size: 1em;
  padding-left: 2em;
  display: block;
  color: #f8f8f8;
  &:hover, &:focus {
    background-color: #2e3133;
  }
}

// smaller settings menu on smaller screen
@media (max-width: 970px) {
  .settings-menu {
    // 2em of padding + 2.29em of fa-fw
    width: 3.29em;
  }
  .settings-menu li a {
    padding-left: 1em;
    padding-right: 1em;
  }
  .menu-entry {
    display: none;
  }
}


.settings-content {
  flex: 1;
}

.fa-menu {
  margin-right: 1.5em;
}

//////////////////////////////////////////////////////////////////////
// Object view
//////////////////////////////////////////////////////////////////////

// For table with only one line, e.g Docker list table etc
.oneliner {
  text-overflow: ellipsis;
  white-space: nowrap;
}
